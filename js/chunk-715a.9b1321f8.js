(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-715a"],{"05a8":function(e,t,s){"use strict";var n=s("31fe"),a=s.n(n);a.a},"31fe":function(e,t,s){},"3eab":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"about"},[s("HeaderPanel",{attrs:{heading:"Диалог",status:"open"}},[s("ButtonComponent",{attrs:{slot:"left",icon:"angle-left",iconSize:"65",onClick:e.goToChats},slot:"left"}),s("ButtonComponent",{attrs:{slot:"right",icon:"phone-call",iconSize:"70"},slot:"right"})],1),s("MessageList"),s("footer",{staticClass:"about__footer"},[s("SendFlexRow",{attrs:{isLast:!0}},[s("ButtonComponent",{attrs:{icon:"add"}}),s("InputText",{attrs:{placeholder:"Текст сообщения","auto-expand":!0,onEnterPress:e.sendMessage,focused:!0},on:{send:e.sendMessage},model:{value:e.currentMessage,callback:function(t){e.currentMessage=t},expression:"currentMessage"}}),s("ButtonComponent",{attrs:{text:"Отпр.",onClick:e.sendMessage}})],1)],1)],1)},a=[],o=s("c93e"),i=s("6e8c"),r=s("40f4"),c=s("17fa"),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{ref:"dialog",staticClass:"chat-dialog"},[s("span",{staticClass:"chat-dialog__date"},[e._v("18 июля 2018")]),e._l(e.messages,function(e){return s("MessageItem",{key:e.messageID,attrs:{text:e.messageText,"time-stamp":(new Date).toLocaleTimeString(),"is-right-position":e.messageIsMy}})})],2)},u=[],g=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"message",class:{"message--right":e.isRightPosition}},[s("div",{staticClass:"message__wrapper"},[s("p",{staticClass:"message__text"},[e._v("\r\n      "+e._s(e.text)+"\r\n    ")]),s("span",{staticClass:"message__time"},[e._v("\r\n      "+e._s(e._f("hhmm")(e.timeStamp))+"\r\n    ")])])])},m=[],d={props:{text:{type:String,required:!0},timeStamp:{type:String,required:!0},isRightPosition:{type:Boolean,default:!1}},filters:{hhmm:function(e){return e.slice(0,e.length-6)}}},f=d,h=(s("eef0"),s("2877")),p=Object(h["a"])(f,g,m,!1,null,null,null);p.options.__file="MessageItem.vue";var _=p.exports,v=s("2f62"),M={components:{MessageItem:_},watch:{messages:function(){var e=this;console.log("messages"),this.$nextTick(function(){return e.scrollToBottom()})}},computed:Object(o["a"])({},Object(v["c"])({thread:"currentThread",messages:"sortedMessages"})),methods:{scrollToBottom:function(){var e=this.$refs.dialog;e.scrollTop=e.scrollHeight}},activated:function(){this.scrollToBottom()},mounted:function(){this.scrollToBottom()}},b=M,x=(s("05a8"),Object(h["a"])(b,l,u,!1,null,null,null));x.options.__file="MessageList.vue";var C=x.exports,T=s("e4c3"),w=s("19e8"),B={components:{HeaderPanel:i["a"],InputText:r["a"],SendFlexRow:c["a"],MessageList:C,ButtonComponent:T["a"],DialogList:w["a"]},data:function(){return{currentMessage:"",nextId:3}},computed:Object(o["a"])({},Object(v["c"])({thread:"currentThread"})),methods:Object(o["a"])({goToChats:function(){this.$router.push("chats")}},Object(v["b"])({sendMessage:function(e){this.currentMessage.trim()&&(e("sendMessage",{text:this.currentMessage,thread:this.thread}),this.currentMessage="")}}))},j=B,O=(s("8e41"),Object(h["a"])(j,n,a,!1,null,null,null));O.options.__file="DialogView.vue";t["default"]=O.exports},"73e3":function(e,t,s){},"8cb6":function(e,t,s){},"8e41":function(e,t,s){"use strict";var n=s("8cb6"),a=s.n(n);a.a},eef0:function(e,t,s){"use strict";var n=s("73e3"),a=s.n(n);a.a}}]);
//# sourceMappingURL=chunk-715a.9b1321f8.js.map